<template>
    <div class="slds-box slds-theme_default">
        <lightning-layout multiple-rows="true" horizontal-align="spread">
            <lightning-layout-item padding="horizontal-small" size="12">
                <h2 class="slds-text-heading_medium slds-p-bottom_medium slds-p-top_large" title="Task Board">Task Board</h2>
            </lightning-layout-item>

            <template for:each={taskLanes} for:item="lane">
                <lightning-layout-item key={lane.id}
                    padding="horizontal-small"
                    size="2"
                    class="task-lane"
                    data-lane={lane.title}
                    ondragover={handleDragOver}
                    ondragleave={handleDragLeave}
                    ondrop={handleDrop}>
                    <lightning-layout multiple-rows="true">
                        <lightning-layout-item size="12">
                            <lightning-card class={lane.name}>
                                <div slot="title">{lane.title}</div>
                            </lightning-card>
                        </lightning-layout-item>
                        <template if:true={lane.tasks}>
                            <template for:each={lane.tasks} for:item="task">
                                <lightning-layout-item key={task.Id} size="12" class={lane.className}>
                                    <c-task-card task={task} ondragging={handleDragging} ontaskupdate={handleTaskUpdate}></c-task-card>
                                </lightning-layout-item>
                            </template>
                        </template>
                    </lightning-layout>
                </lightning-layout-item>
            </template>

            
        </lightning-layout>
    </div>
</template>